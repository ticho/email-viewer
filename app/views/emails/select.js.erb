$(document).ready(function(){
  // change the displayed email
  let new_email = $("<%= j (render 'email_view', email: @email) %>");
  $('.email-view').replaceWith(new_email);
  // mark the mail as read ?
  $('#<%=@email.id%>').addClass('read');
  // add event listener
  $('p.delete-email').on('click', function(){
    $.get('/emails/delete/' + this.attributes.email_id.nodeValue)
  })
})